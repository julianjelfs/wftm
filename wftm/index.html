<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="Content/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="Content/app.css" rel="stylesheet" type="text/css" />
</head>
<body style="padding:10px" ng-app="App" ng-controller="WarlockCtrl">
    
    <div class="container well" ng-style="mainStyle()" ng-cloak >

        <div class="pull-right btn-group">
            <a class="btn" ng-show="supportSave()" ng-click="save()">Save Game</a>
            <a class="btn" ng-show="supportSave()" ng-click="newGame()">New Game</a>
            <a class="btn" ng-disabled="Current.Provisions <= 0" ng-click="eat()">Eat</a>
            <a class="btn" ng-disabled="Current.Luck <= 0" ng-click="testLuck()">Test Luck</a>
        </div>
        <h2>Fighting Fantasy</h2>

        <div class="row-fluid">
            <div class="span2">
                <h4><u>Initial Scores</u></h4>
                <h4>Stamina: {{Initial.Stamina}}</h4>
                <h4>Skill: {{Initial.Skill}}</h4>
                <h4>Luck: {{Initial.Luck}}</h4>
                <h4>Provisions: {{Initial.Provisions}}</h4>
            </div>

            <div class="span4">
                <h4><u>Equipment</u></h4>
                <div class="input-append">
                    <input type="text" placeholder="Add equipment" ng-model="newPossession" />
                    <a class="btn" ng-click="addPossession(newPossession)">Add</a>
                </div>
                <div class="well" style="max-height:200px; overflow:auto">
                    <div ng-repeat="possession in Possessions" class="alert alert-danger">{{possession}}<a class="close" ng-click="deletePossession(possession)" >&times;</a></div>
                </div>
            </div>
        
            <div class="span6 scores">
                <h4><u>Current Scores</u></h4>
                <div class="row-fluid">
                    <div class="span3">
                        Stamina
                    </div>
                    <div class="span6">
                        <input type="text"  readonly="true" ng-model="Current.Stamina" />
                    </div>
                    <div class="span3">
                        <div class="btn-group">
                            <button class="btn" ng-disabled="Current.Stamina >= Initial.Stamina" ng-click="Current.Stamina = Current.Stamina+1;changeVal('Stamina')"><i class="icon-arrow-up"></i></button>
                            <button class="btn" ng-disabled="Current.Stamina <= 0"  ng-click="Current.Stamina = Current.Stamina-1;changeVal('Stamina')"><i class="icon-arrow-down"></i></button> 
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span3">Skill</div>
                    <div class="span9">
                        <input type="number" ng-model="Current.Skill" ng-change="changeVal('Skill')"/>
                    </div>
                </div>
                <div class="row-fluid" ng-style="luckyOrNot">
                    <div class="span3">Luck</div>
                    <div class="span6">
                        <input type="number" ng-model="Current.Luck" ng-change="changeVal('Luck')"/>
                    </div>
                    <div class="span3">
                        <div ng-show="luckScore != null">
                            <div ng-class="diceClass(luckScore.roll1)"></div>
                            <div ng-class="diceClass(luckScore.roll2)"></div>
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span3">Provisions</div>
                    <div class="span9">
                        <input type="number" readonly="true" ng-model="Current.Provisions"/>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span3">Gold Coins</div>
                    <div class="span9">
                        <input type="number" ng-model="Current.GoldCoins"/>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span3">
                        <button class="btn" ng-click="rollDice()">Roll Dice</button>
                    </div>
                    <div class="span9">
                        <div ng-show="manualRoll != null">
                            <div ng-class="diceClass(manualRoll.roll1)"></div>
                            <div ng-class="diceClass(manualRoll.roll2)"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="row-fluid">
            <div class="span12">
                <a href="" class="btn" ng-click="addMonster()">Monster!</a>
                <p></p>
                
                <monster ng-repeat="monster in Monsters"></monster>

            </div>
        </div>

        <div id="dead" ng-modal="Current.Stamina" 
             title="You've been killed" 
             content="Your quest is over for now, but you might have better luck next time" 
             dismiss="newGame()" 
             dismiss-button="New Game" />

</body>
<script src="Scripts/jquery-1.9.1.js" type="text/javascript"></script>
<script src="Scripts/bootstrap.js" type="text/javascript"></script>
<script src="Scripts/angular.js" type="text/javascript"></script>
<script src="Scripts/localStorageModule.js" type="text/javascript"></script>
<script type="text/javascript" src="Scripts/app.js"></script>
</html>
